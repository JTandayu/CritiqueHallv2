import Head from 'next/head'
import Image from 'next/image'
import { css, cx } from '@emotion/react'
import { motion } from "framer-motion"
import { Button, Center, Heading, Spacer } from '@chakra-ui/react'
import Link from 'next/link'
import {
    Modal,
    ModalOverlay,
    ModalContent,
    ModalHeader,
    ModalFooter,
    ModalBody,
    ModalCloseButton,
    Flex,
    Select,
    Text
  } from "@chakra-ui/react"
import { Box } from '@chakra-ui/react'
import { Grid, GridItem } from '@chakra-ui/react'
import Pagination from 'react-js-pagination'
import styles from '@styles/Search.module.css'
import {useState} from 'react'

export async function getServerSideProps(context){
    const { API_URL } = process.env
    const { API_KEY } = process.env

    // const [search, setSearch] = useState('')

    const res = await fetch(`${API_URL}/api/display_posts`, {header:{'x-api-key': '1234'}})
    const res2 = await fetch(`${API_URL}/api/display_profile` , {header:{'x-api-key': '1234'}})

    const data = await res.json()
    
    return{
        props:{
            data
        }
    }
}

export default function SearchResult(){

    return(
        <div className={styles.container}>
            <Head>
                <title>Search Results for</title>
                <meta name="description" content="Critique Hall generated by Next App" />
                <link rel="icon" href="/logo256.png" onLoad=""/>
            </Head>
            <Box w="100%" mb="10" mt="15vh">
                <Heading><Center>Search Result for</Center></Heading>
            </Box>
            
            
            <Flex w="80%">
                {/* <Pagination></Pagination> */}
                <Box w='10vw'></Box>
                <Spacer />
                <Flex w='15vw' mt={1}>
                    <Text mr={5} w={20} mt={2}>Sort By: </Text>
                    <Select>
                        <option value='oldest'>Oldest</option>
                        <option value='newest'>Newest</option>
                        <option value='most-star'>Most Stars</option>
                        <option value='least-star'>Least Stars</option>
                        <option value='has-badge'>Badge</option>
                    </Select>
                </Flex>
            </Flex>
            <Heading>User</Heading>

            <Heading>Posts</Heading>

            {/* Search Item */}
            <Box w={{lg: '70%', sm: '100%'}} display={{lg: 'flex', sm: 'block'}} mt='2ch' mx="auto" border='1px solid' borderColor='dark'>
                <Box p="3" w="100%" bg="light">
                    Hall
                </Box>
                <Box p="3" w="100%" bg="light">
                    Image
                </Box>
                <Box p="3" w="100%" bg="light">
                    Title
                </Box>
                <Box p="3" w="100%" bg="light">
                    Posted by:
                </Box>
                <Box p="3" w="100%" bg="light" display='flex'>
                    <Box w="100%" bg="light">
                        Time
                    </Box>
                    <Box w="100%" bg="light">
                        Options
                    </Box>      
                </Box>       
            </Box>


        </div>
    )


};
